<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>IpCounter: Z:/ip_counter/ip_counter.cpp文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 制作者 Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="annotated.html"><span>类</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>文件成员</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Z:/ip_counter/ip_counter.cpp文件参考</h1>根据命令号执行IP相关的动作。  
<a href="#_details">更多...</a>
<p>

<p>
<div class="dynheader">
ip_counter.cpp包含/依赖关系图：</div>
<div class="dynsection">
<p><center><img src="ip__counter_8cpp__incl.png" border="0" usemap="#Z:/ip_counter/ip_counter.cpp_map" alt=""></center>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>组合类型</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structip__info__t.html">ip_info_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">存储IP统计的次数和第一次统计的时间值  <a href="structip__info__t.html#_details">更多...</a><br></td></tr>
<tr><td colspan="2"><br><h2>枚举</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#ef42f8e92960da66d79101f3395ae3cb">cmd_id_t</a> { <a class="el" href="ip__counter_8cpp.html#ef42f8e92960da66d79101f3395ae3cbe32ec08bab53d803cc6c89f415778eb8">proto_add_ip</a> =  1, 
<a class="el" href="ip__counter_8cpp.html#ef42f8e92960da66d79101f3395ae3cb5d7ba2e5eb0af842eb3fa2a8d72382ee">proto_clear_ip</a> =  2, 
<a class="el" href="ip__counter_8cpp.html#ef42f8e92960da66d79101f3395ae3cbb074349754e9f3520f6ec9e67a26f4d2">proto_get_ip</a> =  3
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">定义命令号  <a href="ip__counter_8cpp.html#ef42f8e92960da66d79101f3395ae3cb">更多...</a><br></td></tr>
<tr><td colspan="2"><br><h2>函数</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#b67daf73532532b4c52eb4a5e411ebea">purge_ip_cnt</a> (void *owner, void *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">清空ipcnt。  <a href="#b67daf73532532b4c52eb4a5e411ebea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bae476380306afbc7986a9daaaa2993f"></a><!-- doxytag: member="ip_counter.cpp::init_service" ref="bae476380306afbc7986a9daaaa2993f" args="(int isparent)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#bae476380306afbc7986a9daaaa2993f">init_service</a> (int isparent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9e302aedbdbfcdea3ce281c66d499649"></a><!-- doxytag: member="ip_counter.cpp::fini_service" ref="9e302aedbdbfcdea3ce281c66d499649" args="(int isparent)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#9e302aedbdbfcdea3ce281c66d499649">fini_service</a> (int isparent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1ec64ff3e1bbf088a6611d7304cf72e2"></a><!-- doxytag: member="ip_counter.cpp::proc_timer" ref="1ec64ff3e1bbf088a6611d7304cf72e2" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#1ec64ff3e1bbf088a6611d7304cf72e2">proc_timer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fb15a7014f2426278edeb7307862e7fc"></a><!-- doxytag: member="ip_counter.cpp::get_pkg_len" ref="fb15a7014f2426278edeb7307862e7fc" args="(int fd, const void *avail_data, int avail_len, int isparent)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#fb15a7014f2426278edeb7307862e7fc">get_pkg_len</a> (int fd, const void *avail_data, int avail_len, int isparent)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="19c78cb3444e19915903be932fcec74d"></a><!-- doxytag: member="ip_counter.cpp::proc_pkg_from_client" ref="19c78cb3444e19915903be932fcec74d" args="(void *data, int len, fdsession_t *fdsess)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#19c78cb3444e19915903be932fcec74d">proc_pkg_from_client</a> (void *data, int len, fdsession_t *fdsess)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c44783c70e060f8b7e754c3fb82040d6"></a><!-- doxytag: member="ip_counter.cpp::proc_pkg_from_serv" ref="c44783c70e060f8b7e754c3fb82040d6" args="(int fd, void *data, int len)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#c44783c70e060f8b7e754c3fb82040d6">proc_pkg_from_serv</a> (int fd, void *data, int len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a069f344766224597beceea6458144b3"></a><!-- doxytag: member="ip_counter.cpp::on_client_conn_closed" ref="a069f344766224597beceea6458144b3" args="(int fd)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#a069f344766224597beceea6458144b3">on_client_conn_closed</a> (int fd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8a7c38212d239574a7c2b0637ad6629b"></a><!-- doxytag: member="ip_counter.cpp::on_fd_closed" ref="8a7c38212d239574a7c2b0637ad6629b" args="(int fd)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#8a7c38212d239574a7c2b0637ad6629b">on_fd_closed</a> (int fd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">AsyncServer框架要求实现的接口之一。. <br></td></tr>
<tr><td colspan="2"><br><h2>变量</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8c81917c7d3b9bd722cad75bef997a35"></a><!-- doxytag: member="ip_counter.cpp::packed" ref="8c81917c7d3b9bd722cad75bef997a35" args="" -->
struct <a class="el" href="structip__info__t.html">ip_info_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#8c81917c7d3b9bd722cad75bef997a35">packed</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">存储IP统计的次数和第一次统计的时间值 <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">map&lt; in_addr_t, <a class="el" href="structip__info__t.html">ip_info_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip__counter_8cpp.html#362576e73c015b8991a41fca61e8f2bb">ipcnt</a></td></tr>

</table>
<hr><a name="_details"></a><h2>详细描述</h2>
根据命令号执行IP相关的动作。 
<p>
============================================================<p>
compiler gcc4.1.2 platform Linux<p>
copyright: TaoMee, Inc. ShangHai CN. All rights reserved.<p>
============================================================ <hr><h2>枚举类型文档</h2>
<a class="anchor" name="ef42f8e92960da66d79101f3395ae3cb"></a><!-- doxytag: member="ip_counter.cpp::cmd_id_t" ref="ef42f8e92960da66d79101f3395ae3cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ip__counter_8cpp.html#ef42f8e92960da66d79101f3395ae3cb">cmd_id_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
定义命令号 
<p>
<dl compact><dt><b>枚举值: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="ef42f8e92960da66d79101f3395ae3cbe32ec08bab53d803cc6c89f415778eb8"></a><!-- doxytag: member="proto_add_ip" ref="ef42f8e92960da66d79101f3395ae3cbe32ec08bab53d803cc6c89f415778eb8" args="" -->proto_add_ip</em>&nbsp;</td><td>
IP记数加一 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ef42f8e92960da66d79101f3395ae3cb5d7ba2e5eb0af842eb3fa2a8d72382ee"></a><!-- doxytag: member="proto_clear_ip" ref="ef42f8e92960da66d79101f3395ae3cb5d7ba2e5eb0af842eb3fa2a8d72382ee" args="" -->proto_clear_ip</em>&nbsp;</td><td>
清除IP的信息 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="ef42f8e92960da66d79101f3395ae3cbb074349754e9f3520f6ec9e67a26f4d2"></a><!-- doxytag: member="proto_get_ip" ref="ef42f8e92960da66d79101f3395ae3cbb074349754e9f3520f6ec9e67a26f4d2" args="" -->proto_get_ip</em>&nbsp;</td><td>
返回IP的信息 </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>函数文档</h2>
<a class="anchor" name="b67daf73532532b4c52eb4a5e411ebea"></a><!-- doxytag: member="ip_counter.cpp::purge_ip_cnt" ref="b67daf73532532b4c52eb4a5e411ebea" args="(void *owner, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int purge_ip_cnt           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
清空ipcnt。 
<p>
<dl class="return" compact><dt><b>返回:</b></dt><dd>总是0。 </dd></dl>

</div>
</div><p>
<hr><h2>变量文档</h2>
<a class="anchor" name="362576e73c015b8991a41fca61e8f2bb"></a><!-- doxytag: member="ip_counter.cpp::ipcnt" ref="362576e73c015b8991a41fca61e8f2bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;in_addr_t, <a class="el" href="structip__info__t.html">ip_info_t</a>&gt; <a class="el" href="ip__counter_8cpp.html#362576e73c015b8991a41fca61e8f2bb">ipcnt</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
记录每个ip出现的次数，每天零点清空一次 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated at Tue Feb 3 16:05:59 2009 for IpCounter by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
